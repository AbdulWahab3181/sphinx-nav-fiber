import{Y as N,Z as b,j as e,X as n,ac as v,r as a,a0 as L}from"./index-4521b1cd.js";import{cm as B,u as h,ct as C,cj as z,az as D,cl as k,bP as F,cb as I,cu as M,cv as P,cc as R}from"./index-cb5dc99b.js";import{S as _}from"./Skeleton-ea668800.js";const A=()=>e.jsxs(n,{children:[e.jsx(n,{align:"center",direction:"row",justify:"space-between",mb:18,children:e.jsx(n,{align:"center",direction:"row",children:e.jsx(V,{children:"Edit node name"})})}),e.jsx(n,{mb:12,children:e.jsx(B,{id:"cy-topic",maxLength:50,name:"topic",placeholder:"Node name",rules:{...v}})})]}),V=N(b)`
  font-size: 22px;
  font-weight: 600;
  font-family: 'Barlow';
`,q=()=>{const{close:c}=h("editNodeName"),[r]=C(o=>[o.data]),l=z({mode:"onChange"}),{watch:j,setValue:d,reset:u}=l,[m,p]=a.useState(!1),[f,x]=a.useState(!1),[t,g]=a.useState(),s=D();a.useEffect(()=>(t&&d("topic",t==null?void 0:t.topic),()=>{u()}),[t,d,u]),a.useEffect(()=>{(async()=>{if(s){x(!0);try{const{data:i}=await M({search:s==null?void 0:s.name}),E=i.find(T=>T.topic===s.name);g(E)}catch(i){console.log(i)}finally{x(!1)}}})()},[s]);const y=j("topic"),S=()=>{c()},w=async()=>{p(!0);try{if(await P((t==null?void 0:t.ref_id)||"",{topic:y.trim()}),r){const o={...r};console.log(o)}S()}catch(o){console.warn(o)}finally{p(!1)}};return e.jsxs(k,{...l,children:[f?e.jsx(n,{my:24,children:e.jsx(_,{})}):e.jsx(A,{}),e.jsxs(F,{color:"secondary",disabled:m||f,onClick:w,size:"large",variant:"contained",children:["Save",m&&e.jsx(I,{color:L.BLUE_PRESS_STATE,size:10})]})]})},X=()=>{const{close:c}=h("editNodeName");return e.jsx(R,{id:"editNodeName",kind:"regular",onClose:c,preventOutsideClose:!0,children:e.jsx(q,{})})};export{X as EditNodeNameModal};
