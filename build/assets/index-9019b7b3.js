import{_ as w,r as g,a as Z,j as s,c as T,u as pe,ag as q,ah as J,S as ce,W as ke,X as Ce,s as S,F as m,T as F,h as Q,b as A,g as ue,ai as Y,v as Be,aj as Te,k as ze}from"./index-803fed4c.js";import{B as he}from"./index-78b80aab.js";import{u as L}from"./index-d9332946.js";import{g as ee,a as te,s as z,aD as Re,aE as Fe,c as se,b as ne,av as Ne,e as Ae,X as Me,t as me,h as fe,z as Ee,F as ge,C as re,aF as De,Y as Pe,I as Ie,B as ae,aG as Ge,aH as Oe,aI as We}from"./react-toastify.esm-a643f0aa.js";import{B as xe,T as Le,a as Ve}from"./index-25ce0e07.js";import{T as V}from"./index-d88d85b8.js";import{A as be}from"./index-bac4ffc8.js";import{n as _e}from"./toastMessage-f813d461.js";import{O as le,N as qe}from"./constants-cde8ebc3.js";import{D as Ue}from"./DeleteIcon-1d6cbe87.js";import{P as ye}from"./PlusIcon-1484ea34.js";import{e as Ke}from"./Stack-66cc3c7c.js";import{u as He}from"./Popover-09e72c26.js";import{u as Xe}from"./Select-2d4c4a14.js";import{S as Ye,a as _,b as Ze}from"./index-86566ced.js";import{M as Je,a as Qe}from"./ChevronUpIcon-ef1393fd.js";import"./useSlotProps-ed176cd2.js";import"./index.esm-737473f0.js";import"./InfoIcon-3542168a.js";import"./index-517eb19c.js";import"./Popper-2570734d.js";import"./generateCategoricalChart-d8de58b9.js";import"./index-acbad7e7.js";import"./CheckIcon-ce8a66ef.js";import"./ChevronDownIcon-e95ae81c.js";function et(e){return ee("PrivateSwitchBase",e)}te("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const tt=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],st=e=>{const{classes:t,checked:r,disabled:n,edge:a}=e,o={root:["root",r&&"checked",n&&"disabled",a&&`edge${T(a)}`],input:["input"]};return ne(o,et,t)},nt=z(Re)(({ownerState:e})=>w({padding:9,borderRadius:"50%"},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12})),rt=z("input",{shouldForwardProp:Fe})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),at=g.forwardRef(function(t,r){const{autoFocus:n,checked:a,checkedIcon:o,className:c,defaultChecked:p,disabled:h,disableFocusRipple:l=!1,edge:i=!1,icon:d,id:u,inputProps:x,inputRef:b,name:f,onBlur:v,onChange:j,onFocus:I,readOnly:U,required:K=!1,tabIndex:G,type:B,value:M}=t,O=Z(t,tt),[W,R]=Xe({controlled:a,default:!!p,name:"SwitchBase",state:"checked"}),k=He(),Se=$=>{I&&I($),k&&k.onFocus&&k.onFocus($)},je=$=>{v&&v($),k&&k.onBlur&&k.onBlur($)},ve=$=>{if($.nativeEvent.defaultPrevented)return;const ie=$.target.checked;R(ie),j&&j($,ie)};let E=h;k&&typeof E>"u"&&(E=k.disabled);const $e=B==="checkbox"||B==="radio",H=w({},t,{checked:W,disabled:E,disableFocusRipple:l,edge:i}),oe=st(H);return s.jsxs(nt,w({component:"span",className:se(oe.root,c),centerRipple:!0,focusRipple:!l,disabled:E,tabIndex:null,role:void 0,onFocus:Se,onBlur:je,ownerState:H,ref:r},O,{children:[s.jsx(rt,w({autoFocus:n,checked:a,defaultChecked:p,className:oe.input,disabled:E,id:$e?u:void 0,name:f,onChange:ve,readOnly:U,ref:b,required:K,ownerState:H,tabIndex:G,type:B},B==="checkbox"&&M===void 0?{}:{value:M},x)),W?o:d]}))}),ot=at,it=g.createContext(),de=it;function ct(e){return ee("MuiGrid",e)}const lt=[0,1,2,3,4,5,6,7,8,9,10],dt=["column-reverse","column","row-reverse","row"],pt=["nowrap","wrap-reverse","wrap"],D=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],ut=te("MuiGrid",["root","container","item","zeroMinWidth",...lt.map(e=>`spacing-xs-${e}`),...dt.map(e=>`direction-xs-${e}`),...pt.map(e=>`wrap-xs-${e}`),...D.map(e=>`grid-xs-${e}`),...D.map(e=>`grid-sm-${e}`),...D.map(e=>`grid-md-${e}`),...D.map(e=>`grid-lg-${e}`),...D.map(e=>`grid-xl-${e}`)]),P=ut,ht=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function N(e){const t=parseFloat(e);return`${t}${String(e).replace(String(t),"")||"px"}`}function mt({theme:e,ownerState:t}){let r;return e.breakpoints.keys.reduce((n,a)=>{let o={};if(t[a]&&(r=t[a]),!r)return n;if(r===!0)o={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(r==="auto")o={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const c=q({values:t.columns,breakpoints:e.breakpoints.values}),p=typeof c=="object"?c[a]:c;if(p==null)return n;const h=`${Math.round(r/p*1e8)/1e6}%`;let l={};if(t.container&&t.item&&t.columnSpacing!==0){const i=e.spacing(t.columnSpacing);if(i!=="0px"){const d=`calc(${h} + ${N(i)})`;l={flexBasis:d,maxWidth:d}}}o=w({flexBasis:h,flexGrow:0,maxWidth:h},l)}return e.breakpoints.values[a]===0?Object.assign(n,o):n[e.breakpoints.up(a)]=o,n},{})}function ft({theme:e,ownerState:t}){const r=q({values:t.direction,breakpoints:e.breakpoints.values});return J({theme:e},r,n=>{const a={flexDirection:n};return n.indexOf("column")===0&&(a[`& > .${P.item}`]={maxWidth:"none"}),a})}function we({breakpoints:e,values:t}){let r="";Object.keys(t).forEach(a=>{r===""&&t[a]!==0&&(r=a)});const n=Object.keys(e).sort((a,o)=>e[a]-e[o]);return n.slice(0,n.indexOf(r))}function gt({theme:e,ownerState:t}){const{container:r,rowSpacing:n}=t;let a={};if(r&&n!==0){const o=q({values:n,breakpoints:e.breakpoints.values});let c;typeof o=="object"&&(c=we({breakpoints:e.breakpoints.values,values:o})),a=J({theme:e},o,(p,h)=>{var l;const i=e.spacing(p);return i!=="0px"?{marginTop:`-${N(i)}`,[`& > .${P.item}`]:{paddingTop:N(i)}}:(l=c)!=null&&l.includes(h)?{}:{marginTop:0,[`& > .${P.item}`]:{paddingTop:0}}})}return a}function xt({theme:e,ownerState:t}){const{container:r,columnSpacing:n}=t;let a={};if(r&&n!==0){const o=q({values:n,breakpoints:e.breakpoints.values});let c;typeof o=="object"&&(c=we({breakpoints:e.breakpoints.values,values:o})),a=J({theme:e},o,(p,h)=>{var l;const i=e.spacing(p);return i!=="0px"?{width:`calc(100% + ${N(i)})`,marginLeft:`-${N(i)}`,[`& > .${P.item}`]:{paddingLeft:N(i)}}:(l=c)!=null&&l.includes(h)?{}:{width:"100%",marginLeft:0,[`& > .${P.item}`]:{paddingLeft:0}}})}return a}function bt(e,t,r={}){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[r[`spacing-xs-${String(e)}`]];const n=[];return t.forEach(a=>{const o=e[a];Number(o)>0&&n.push(r[`spacing-${a}-${String(o)}`])}),n}const yt=z("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e,{container:n,direction:a,item:o,spacing:c,wrap:p,zeroMinWidth:h,breakpoints:l}=r;let i=[];n&&(i=bt(c,l,t));const d=[];return l.forEach(u=>{const x=r[u];x&&d.push(t[`grid-${u}-${String(x)}`])}),[t.root,n&&t.container,o&&t.item,h&&t.zeroMinWidth,...i,a!=="row"&&t[`direction-xs-${String(a)}`],p!=="wrap"&&t[`wrap-xs-${String(p)}`],...d]}})(({ownerState:e})=>w({boxSizing:"border-box"},e.container&&{display:"flex",flexWrap:"wrap",width:"100%"},e.item&&{margin:0},e.zeroMinWidth&&{minWidth:0},e.wrap!=="wrap"&&{flexWrap:e.wrap}),ft,gt,xt,mt);function wt(e,t){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[`spacing-xs-${String(e)}`];const r=[];return t.forEach(n=>{const a=e[n];if(Number(a)>0){const o=`spacing-${n}-${String(a)}`;r.push(o)}}),r}const St=e=>{const{classes:t,container:r,direction:n,item:a,spacing:o,wrap:c,zeroMinWidth:p,breakpoints:h}=e;let l=[];r&&(l=wt(o,h));const i=[];h.forEach(u=>{const x=e[u];x&&i.push(`grid-${u}-${String(x)}`)});const d={root:["root",r&&"container",a&&"item",p&&"zeroMinWidth",...l,n!=="row"&&`direction-xs-${String(n)}`,c!=="wrap"&&`wrap-xs-${String(c)}`,...i]};return ne(d,ct,t)},jt=g.forwardRef(function(t,r){const n=pe({props:t,name:"MuiGrid"}),{breakpoints:a}=Ne(),o=Ke(n),{className:c,columns:p,columnSpacing:h,component:l="div",container:i=!1,direction:d="row",item:u=!1,rowSpacing:x,spacing:b=0,wrap:f="wrap",zeroMinWidth:v=!1}=o,j=Z(o,ht),I=x||b,U=h||b,K=g.useContext(de),G=i?p||12:K,B={},M=w({},j);a.keys.forEach(R=>{j[R]!=null&&(B[R]=j[R],delete M[R])});const O=w({},o,{columns:G,container:i,direction:d,item:u,rowSpacing:I,columnSpacing:U,wrap:f,zeroMinWidth:v,spacing:b},B,{breakpoints:a.keys}),W=St(O);return s.jsx(de.Provider,{value:G,children:s.jsx(yt,w({ownerState:O,className:se(W.root,c),as:l,ref:r},M))})}),C=jt;function vt(e){return ee("MuiSwitch",e)}const $t=te("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),y=$t,kt=["className","color","edge","size","sx"],Ct=e=>{const{classes:t,edge:r,size:n,color:a,checked:o,disabled:c}=e,p={root:["root",r&&`edge${T(r)}`,`size${T(n)}`],switchBase:["switchBase",`color${T(a)}`,o&&"checked",c&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},h=ne(p,vt,t);return w({},t,h)},Bt=z("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.edge&&t[`edge${T(r.edge)}`],t[`size${T(r.size)}`]]}})(({ownerState:e})=>w({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"}},e.edge==="start"&&{marginLeft:-8},e.edge==="end"&&{marginRight:-8},e.size==="small"&&{width:40,height:24,padding:7,[`& .${y.thumb}`]:{width:16,height:16},[`& .${y.switchBase}`]:{padding:4,[`&.${y.checked}`]:{transform:"translateX(16px)"}}})),Tt=z(ot,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.switchBase,{[`& .${y.input}`]:t.input},r.color!=="default"&&t[`color${T(r.color)}`]]}})(({theme:e})=>({position:"absolute",top:0,left:0,zIndex:1,color:e.vars?e.vars.palette.Switch.defaultColor:`${e.palette.mode==="light"?e.palette.common.white:e.palette.grey[300]}`,transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),[`&.${y.checked}`]:{transform:"translateX(20px)"},[`&.${y.disabled}`]:{color:e.vars?e.vars.palette.Switch.defaultDisabledColor:`${e.palette.mode==="light"?e.palette.grey[100]:e.palette.grey[600]}`},[`&.${y.checked} + .${y.track}`]:{opacity:.5},[`&.${y.disabled} + .${y.track}`]:{opacity:e.vars?e.vars.opacity.switchTrackDisabled:`${e.palette.mode==="light"?.12:.2}`},[`& .${y.input}`]:{left:"-100%",width:"300%"}}),({theme:e,ownerState:t})=>w({"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:ce(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.color!=="default"&&{[`&.${y.checked}`]:{color:(e.vars||e).palette[t.color].main,"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:ce(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${y.disabled}`]:{color:e.vars?e.vars.palette.Switch[`${t.color}DisabledColor`]:`${e.palette.mode==="light"?ke(e.palette[t.color].main,.62):Ce(e.palette[t.color].main,.55)}`}},[`&.${y.checked} + .${y.track}`]:{backgroundColor:(e.vars||e).palette[t.color].main}})),zt=z("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(e,t)=>t.track})(({theme:e})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:e.vars?e.vars.palette.common.onBackground:`${e.palette.mode==="light"?e.palette.common.black:e.palette.common.white}`,opacity:e.vars?e.vars.opacity.switchTrack:`${e.palette.mode==="light"?.38:.3}`})),Rt=z("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(e,t)=>t.thumb})(({theme:e})=>({boxShadow:(e.vars||e).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"})),Ft=g.forwardRef(function(t,r){const n=pe({props:t,name:"MuiSwitch"}),{className:a,color:o="primary",edge:c=!1,size:p="medium",sx:h}=n,l=Z(n,kt),i=w({},n,{color:o,edge:c,size:p}),d=Ct(i),u=s.jsx(Rt,{className:d.thumb,ownerState:i});return s.jsxs(Bt,{className:se(d.root,a),sx:h,ownerState:i,children:[s.jsx(Tt,w({type:"checkbox",icon:u,checkedIcon:u,ref:r,ownerState:i},l,{classes:w({},d,{root:d.switchBase})})),s.jsx(zt,{className:d.track,ownerState:i})]})}),Nt=Ft,At=({onClose:e})=>{const[t]=Ae(n=>[n.graphStyle]),r=()=>{localStorage.setItem("graphStyle",t),e()};return s.jsxs(Mt,{direction:"column",children:[s.jsx(Et,{children:"Default graph view:"}),s.jsx(Me,{}),s.jsx(m,{mt:308,children:s.jsx(xe,{kind:"big",onClick:r,children:"Save changes"})})]})},Mt=S(m)`
  display: flex;
  gap: 10px;
  padding: 36px;
`,Et=S(F)`
  font-family: Barlow;
  font-size: 13px;
  font-weight: 400;
`,Dt=({initialValues:e})=>{const t=me({defaultValues:e,mode:"onSubmit"}),{isSubmitting:r}=t.formState,n=fe(o=>o.setAppMetaData),a=t.handleSubmit(async o=>{try{(await Ee(o)).status==="success"&&n(o)}catch(c){console.log(c),console.warn(c)}});return s.jsx(ge,{...t,children:s.jsx(It,{id:"add-node-form",onSubmit:a,children:s.jsxs(s.Fragment,{children:[s.jsxs(m,{children:[s.jsx(m,{pt:20,children:s.jsx(V,{id:"cy-about-title-id",label:"Graph Title",maxLength:50,name:"title",placeholder:"Type graph title here...",rules:{...Q}})}),s.jsx(m,{pt:20,children:s.jsx(V,{id:"cy-about-id",label:"Graph Description",maxLength:100,name:"description",placeholder:"Type graph description here..."})})]}),s.jsx(m,{mt:210,py:24,children:r?s.jsx(Pt,{children:s.jsx(re,{color:A.white,size:20})}):s.jsx(xe,{disabled:r,id:"add-node-submit-cta",kind:"big",type:"submit",children:"Save changes"})})]})})})},Pt=S(m).attrs({align:"center",background:"primaryButton",borderRadius:8,justify:"center"})`
  padding: 16px 24px;
  opacity: 0.5;
`,It=S.form`
  padding: 36px;
`;function Gt(e){const t={};return e.forEach(r=>{const{key:n,type:a,required:o}=r;o?t[n]=a:t[n]=`?${a}`}),t}function Ot(e){return Object.keys(e).map(t=>({required:!e[t].includes("?"),type:e[t].includes("?")?e[t].slice(1):e[t],key:t})).filter(({key:t})=>!["type","ref_id","parent"].includes(t))}const Wt=({parentParam:e})=>{const[t,r]=g.useState(!1),[n,a]=g.useState([]),{fields:o,append:c,replace:p,remove:h}=De({name:"attributes"}),{setValue:l,watch:i}=Pe();return g.useEffect(()=>{const d=async()=>{try{let u=[{required:!1,type:"string",key:""}];if(e!==qe.value.toLowerCase()){r(!0);const x=await Ge(e);u=Ot(x)}p(u),a(u)}catch(u){console.warn(u)}finally{r(!1)}};n.length===0&&d()},[e,l,p,n.length]),s.jsxs(s.Fragment,{children:[t?s.jsx(m,{align:"center",children:s.jsx(re,{color:A.SECONDARY_BLUE,size:"30"})}):s.jsx(Lt,{children:s.jsx(C,{container:!0,spacing:2,children:o.map((d,u)=>{const x=i(`attributes[${u}].type`),b=i(`attributes[${u}].required`);return s.jsxs(g.Fragment,{children:[s.jsx(C,{item:!0,xs:5,children:s.jsx(V,{className:"text-input",id:"cy-item-name",maxLength:50,name:`attributes.${u}.key`,placeholder:"Enter value",rules:{...Q}})}),s.jsx(C,{item:!0,xs:4,children:s.jsx(be,{onSelect:f=>l(`attributes[${u}].type`,f==null?void 0:f.value),options:le,selectedValue:le.find(f=>f.value===x)})}),s.jsxs(C,{item:!0,xs:3,children:[s.jsx(Nt,{checked:b,disabled:!1,name:`attributes.${u}.required`,onChange:f=>l(`attributes[${u}].required`,f.target.checked),size:"small"}),s.jsx(Ie,{onClick:()=>h(u),children:s.jsx(Ue,{})})]})]},d.id)})})}),s.jsx(m,{align:"flex-start",py:12,children:s.jsx(ae,{onClick:()=>c({key:"",type:"string",required:!0}),size:"medium",startIcon:s.jsx(ye,{}),variant:"contained",children:"Add Attribute"})})]})},Lt=S(m)`
  max-height: 260px;
  overflow: auto;
`,Vt=({parent:e})=>{const t=e;return s.jsxs(m,{children:[s.jsx(m,{direction:"row",mb:10,children:s.jsxs(C,{container:!0,spacing:2,children:[s.jsx(C,{item:!0,xs:5,children:s.jsx(X,{style:{marginRight:180},children:"Attributes"})}),s.jsx(C,{item:!0,xs:4,children:s.jsx(X,{style:{marginRight:130},children:"Type"})}),s.jsx(C,{item:!0,xs:3,children:s.jsx(X,{children:"Required"})})]})}),t&&s.jsx(Wt,{parentParam:t},t)]})},X=S(F)`
  font-size: 15px;
  color: gray;
`,_t=async(e,t)=>{try{const{attributes:r,...n}=e,a={...n,...Gt(r)},o=await Be.post("/schema",JSON.stringify(a),{});if(o.error){const{message:c}=o.error;throw new Error(c)}_e(Te),close()}catch(r){let n=Y;if(r.status===400){const a=await r.json();n=a.errorCode||(a==null?void 0:a.status)||Y}else r instanceof Error&&(n=r.message);throw new Error(n)}},qt=()=>{const{close:e,visible:t}=L("addType"),[r]=ue(b=>[b.setBudget]),n=me({mode:"onChange"}),{watch:a,setValue:o,reset:c}=n,[p,h]=g.useState(!1),[l,i]=g.useState(null);g.useEffect(()=>()=>{c()},[t,c]),g.useEffect(()=>{(async()=>{h(!0);try{const v=(await Oe()).schemas.map(j=>(j==null?void 0:j.type)==="thing"?{label:"No Parent",value:j.type}:{label:j.type,value:j.type});i(v)}catch(f){console.warn(f)}finally{h(!1)}})()},[]);const d=a("parent"),u=()=>{e()},x=n.handleSubmit(async b=>{try{await _t(b,r),u()}catch(f){if((f==null?void 0:f.status)===400){const v=await f.json();v.errorCode||v!=null&&v.status||Y}else f instanceof Error&&f.message}finally{}});return s.jsx(he,{id:"addType",kind:"regular",onClose:e,preventOutsideClose:!0,children:s.jsx(ge,{...n,children:s.jsxs("form",{id:"add-type-form",onSubmit:x,children:[s.jsxs(m,{children:[s.jsx(m,{align:"center",direction:"row",justify:"space-between",mb:18,children:s.jsx(m,{align:"center",direction:"row",children:s.jsx(F,{children:"Enter details"})})}),s.jsx(m,{mb:20,children:s.jsx(F,{children:"Select Parent"})}),s.jsx(m,{direction:"row",mb:20,children:s.jsx(be,{autoFocus:!0,isLoading:p,onSelect:b=>o("parent",(b==null?void 0:b.value)||""),options:l})}),s.jsx(m,{mb:4,children:s.jsx(F,{children:"Type name"})}),s.jsx(m,{mb:12,children:s.jsx(V,{id:"cy-item-name",maxLength:250,name:"type",placeholder:"Enter type name",rules:{...Q},value:d})})]}),s.jsx(Vt,{parent:d}),s.jsx(m,{direction:"row",justify:"center",mt:20,children:s.jsx(ae,{color:"secondary",onClick:x,size:"large",variant:"contained",children:"Save"})})]})})})};function Ut(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}const Kt=({schema:e})=>s.jsxs(Ye,{children:[s.jsx(_,{className:"empty"}),s.jsx(_,{children:Ut(e.type??"")})]}),Ht=g.memo(Kt),Xt=({schemas:e})=>{const{open:t}=L("addType"),r=async()=>{t()};return s.jsxs(s.Fragment,{children:[s.jsxs(Je,{component:"table",children:[s.jsx(Ze,{children:s.jsxs(Qe,{component:"tr",children:[s.jsx(_,{className:"empty"}),s.jsx(_,{children:"Type"})]})}),s.jsx("tbody",{children:e==null?void 0:e.map(n=>s.jsx(Ht,{schema:n},n==null?void 0:n.ref_id))})]}),s.jsx(Yt,{children:s.jsx(ae,{color:"secondary",endIcon:s.jsx(ye,{}),onClick:r,size:"medium",type:"submit",variant:"contained",children:"Create New Type"})})]})},Yt=S(m)`
  display: flex;
  margin: 20px 0px 0px 30px;
  width: 28%;
`,Zt=()=>{const[e,t]=g.useState(!0),[r,n]=g.useState([]);return g.useEffect(()=>{(async()=>{try{const o=await We();n(o.schemas),t(!1)}catch(o){console.error("Error fetching data:",o),t(!1)}})()},[]),s.jsxs(Jt,{align:e?"center":"flex-start",justify:e?"center":"flex-start",py:16,children:[e?s.jsx(re,{color:A.white}):s.jsx(s.Fragment,{children:s.jsx(Xt,{schemas:r})}),s.jsx(qt,{})]})},Jt=S(m)`
  min-height: 0;
  overflow: auto;
  flex: 1;
  width: 100%;
`,Qt=e=>{const{children:t,value:r,index:n,...a}=e;return r===n?s.jsx(as,{"aria-labelledby":`simple-tab-${n}`,hidden:r!==n,id:`simple-tabpanel-${n}`,role:"tabpanel",...a,children:t}):null};function es(e){return{id:`simple-tab-${e}`,"aria-controls":`simple-tabpanel-${e}`}}const ts=({onClose:e})=>{const[t,r]=g.useState(0),[n]=ue(i=>[i.isAdmin,i.setPubKey]),a=ze(i=>i.customSchemaFlag),o=fe(i=>i.appMetaData),c=()=>n?"Admin Settings":"Settings",p=({children:i})=>s.jsxs(ns,{children:[s.jsx(m,{direction:"row",pt:3,children:s.jsx(is,{"data-testid":"setting-label",children:c()})}),i]}),h=(i,d)=>{r(d)},l=[...n?[{label:"General",component:Dt}]:[],{label:"Appearance",component:At},...n&&a?[{label:"Graph Blueprint",component:Zt}]:[]];return s.jsxs(os,{direction:"column",children:[s.jsx(p,{children:s.jsx(ss,{"aria-label":"settings tabs",onChange:h,value:t,children:l.map((i,d)=>s.jsx(rs,{disableRipple:!0,label:i.label,...es(d)},i.label))})}),l.map((i,d)=>s.jsx(Qt,{index:d,value:t,children:s.jsx(i.component,{initialValues:o,onClose:e})},i.label))]})},ss=S(Le)`
  && {
    .MuiTabs-indicator {
      background: ${A.primaryBlue};
    }
    width: 90%;
  }
`,ns=S(m)`
  background: rgb(22, 24, 30);
  padding: 40px 36px 0 0;
`,rs=S(Ve)`
  && {
    padding: 30px 0 24px;
    color: ${A.GRAY6};
    margin-left: 10px;
    font-family: Barlow;
    font-size: 16px;
    font-style: normal;
    font-weight: 500;
    text-align: center;

    &.Mui-selected {
      color: ${A.white};
    }
    flex-grow: 1;
  }
`,as=S(m)`
  display: flex;
  flex: 1;
  min-height: 495px;
  max-height: 495px;
  height: fit-content;
  min-width: 480px;
`,os=S(m)`
  min-height: 0;
  flex: 1;
`,is=S(F)`
  font-size: 22px;
  font-weight: 600;
  font-family: Barlow;
  padding: 0 0 0 36px;
`,As=()=>{const{close:e}=L("settings"),{visible:t}=L("addItem");return t?null:s.jsx(he,{background:"BG1",id:"settings",noWrap:!0,onClose:e,children:s.jsx(ts,{onClose:e})})};export{As as SettingsModal};
