import{s as N,T as B,j as e,F as r,b as C,r as a,c as L}from"./index-2d5c8145.js";import{B as b}from"./index-f465290e.js";import{u as h}from"./index-9d01024a.js";import{m as v,a as F,F as D,B as k,j as z,o as I}from"./react-toastify.esm-7361992a.js";import{u as M}from"./index-a7d6d175.js";import{T as R}from"./index-f6c79cb9.js";import{S as _}from"./Skeleton-9c903d5a.js";import{C as A}from"./ClipLoader-4cf451e4.js";import"./index.esm-60620dce.js";import"./InfoIcon-de0a2952.js";const P=()=>e.jsxs(r,{children:[e.jsx(r,{align:"center",direction:"row",justify:"space-between",mb:18,children:e.jsx(r,{align:"center",direction:"row",children:e.jsx(V,{children:"Edit node name"})})}),e.jsx(r,{mb:12,children:e.jsx(R,{id:"cy-topic",maxLength:50,name:"topic",placeholder:"Node name",rules:{...C}})})]}),V=N(B)`
  font-size: 22px;
  font-weight: 600;
  font-family: 'Barlow';
`,q=()=>{const{close:n}=h("editNodeName"),[c]=M(s=>[s.data]),l=v({mode:"onChange"}),{watch:j,setValue:d,reset:m}=l,[p,f]=a.useState(!1),[u,x]=a.useState(!1),[o,g]=a.useState(),t=F();a.useEffect(()=>(o&&d("topic",o==null?void 0:o.topic),()=>{m()}),[o,d,m]),a.useEffect(()=>{(async()=>{if(t){x(!0);try{const{data:i}=await z({search:t==null?void 0:t.name}),w=i.find(E=>E.topic===t.name);g(w)}catch(i){console.log(i)}finally{x(!1)}}})()},[t]);const y=j("topic"),S=()=>{n()},T=async()=>{f(!0);try{if(await I((o==null?void 0:o.ref_id)||"",{topic:y.trim()}),c){const s={...c};console.log(s)}S()}catch(s){console.warn(s)}finally{f(!1)}};return e.jsxs(D,{...l,children:[u?e.jsx(r,{my:24,children:e.jsx(_,{})}):e.jsx(P,{}),e.jsxs(k,{color:"secondary",disabled:p||u,onClick:T,size:"large",variant:"contained",children:["Save",p&&e.jsx(A,{color:L.BLUE_PRESS_STATE,size:10})]})]})},Z=()=>{const{close:n}=h("editNodeName");return e.jsx(b,{id:"editNodeName",kind:"regular",onClose:n,preventOutsideClose:!0,children:e.jsx(q,{})})};export{Z as EditNodeNameModal};
